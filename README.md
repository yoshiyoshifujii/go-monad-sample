# go-monad-sample

GoでMonadを勉強してる

## Monad則とは？

Monad則とは、Monadのインターフェース（特にunitとbind（またはflatMap）操作）が満たすべき3つの法則のことです。
これらの法則は、Monadによる計算の連鎖が、直感的で安全に動作することを保証します。

## Monad則の具体的な内容

Monad則は、以下の3つの法則から構成されます。

### 左単位元律（Left Identity Law）

`unit(a) bind f = f(a)`

- 解説：unitを使って値をMonadで包み、その結果をbindを使って関数fに渡した場合、それは直接関数fに値を渡した場合と同じになるべき、という法則です。
- イメージ：Monadの箱に入れた値を、すぐに取り出して計算する場合、箱に入れる意味はない、というイメージです。

### 右単位元律（Right Identity Law）

`m bind unit = m`

- 解説：Monadの値mに対して、bindを使ってunit関数を適用した場合、結果は元のmと同じになるべき、という法則です。
- イメージ：Monadの箱に入った値を、そのまま取り出すような操作は、何も変化を与えないはず、というイメージです。

### 結合律（Associativity Law）

`(m bind f) bind g = m bind (x => f(x) bind g)`

- 解説：Monadの値mに対して、関数fとgをbindで順番に適用する場合、(m bind f)を先に計算して、その結果に対してbind gを適用するのと、mを関数x => f(x) bind gに適用するのとで、結果は同じになるべき、という法則です。
- イメージ：計算の連鎖において、結合の順番が変わっても、最終的な結果は変わらないはず、というイメージです。

### 記号の意味

- `unit(a)` : 値aをMonadの文脈で包む操作（多くの言語ではreturnやpureという名前のこともあります）
- `m bind f` : Monadの値mに対して、関数fを適用する操作（多くの言語ではflatMapや>>=という名前のこともあります）
- `f(x)` : 関数fに値xを適用する操作
- `x => ...` : ラムダ式（無名関数）

## Monad則の重要性

Monad則は、Monadによる計算が、直感的かつ予測可能に動作することを保証する上で非常に重要です。

- **計算の整合性** ：Monad則を満たすことで、Monadを使った計算の連鎖が、特定のパターンに従って一貫性を持って実行されることが保証されます。
- **抽象化の維持** ：Monadの内部実装を隠蔽し、Monad則に従う範囲内であれば、自由に計算を組み合わせることができます。
- **推論の容易化** ：Monad則を満たすことで、Monadを使ったコードの動作を、より簡単に推論したり、検証したりすることが可能になります。
- **再利用性** ：Monad則を満たすMonadは、様々な文脈で再利用でき、コードの共通化に役立ちます。

## Monad則の確認

Monadを自分で実装する際には、必ずMonad則を満たしていることを確認する必要があります。
Monad則が満たされていない場合、Monadを使った計算が予期せぬ動作をすることがあります。

